!function(){function e(t,n,i){function o(s,a){if(!n[s]){if(!t[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){return o(t[s][1][e]||e)},u,u.exports,e,t,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}return e}()({1:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("../utils/blazy"),s=(function(e){e&&e.__esModule}(r),function(){function e(t,n,o,r,s){i(this,e),this.name=t,this.src=n,this.city=o,this.id=r,this.filter=s}return o(e,[{key:"checkIsntItemHidden",value:function(){var e=localStorage.getItem("hidden-items");return!e||e.indexOf(this.id)<=-1}},{key:"showLightbox",value:function(){function e(e){e.addEventListener("click",function(){t.classList.add("lightbox-overlay--hidden"),setTimeout(function(){t.remove()},350)})}var t=document.createElement("section");t.classList.add("lightbox-overlay"),document.querySelector("body").appendChild(t),t.innerHTML='\n        <div class="lightbox-body">\n        <span class="lightbox-close js-lightbox-close"></span>\n            <picture>\n                    <source type="image/webp" srcset="assets/images/'+this.src+'.webp">\n                    <source type="image/jpeg" srcset="assets/images/'+this.src+".jpg 1x,\n                                assets/images/"+this.src+"@2x.jpg 2x,\n                                assets/images/"+this.src+'@3x.jpg 3x">\n                    <img class="lightbox-image b-lazy"\n                        data-src="assets/images/'+this.src+'.jpg"\n                        srcset="assets/images/'+this.src+".jpg 1x,\n                                assets/images/"+this.src+"@2x.jpg 2x,\n                                assets/images/"+this.src+'@3x.jpg 3x">\n            </picture>  \n        </div>\n        ';var n=document.querySelector(".js-lightbox-close"),i=document.querySelector(".lightbox-image");e(n),e(i)}},{key:"createItem",value:function(){if(!this.filter||this.city.indexOf(this.filter)>-1||this.name.indexOf(this.filter)>-1){var e=document.createElement("div"),t=document.querySelector(".gallery");this.checkIsntItemHidden()&&(e.classList.add("gallery-item"),e.id=this.id,e.innerHTML='\n                    <picture>\n                        <source type="image/webp" srcset="assets/images/'+this.src+'.webp">\n                        <source type="image/jpeg" srcset="assets/images/'+this.src+".jpg 1x,\n                                assets/images/"+this.src+"@2x.jpg 2x,\n                                assets/images/"+this.src+'@3x.jpg 3x">\n                        <img class="gallery-item__photo b-lazy js-photo-thumbnail"\n                            id='+this.src+' \n                            data-src="assets/images/'+this.src+'.jpg"\n                            srcset="assets/images/'+this.src+".jpg 1x,\n                                assets/images/"+this.src+"@2x.jpg 2x,\n                                assets/images/"+this.src+'@3x.jpg 3x"\n                            alt="'+this.name+", "+this.city+'"\n                            title="'+this.name+", "+this.city+'">\n                    </picture>\n                    <div class="gallery-item__info">\n                        <div class="gallery-item__description">\n                            <b>'+this.name+"</b>, "+this.city+'   \n                        </div>\n                        <div class="gallery-item__hide js-hide-item" data-id="'+this.id+'">\n                            <img src="assets/images/eye.svg" alt="Скрыть это фото">\n                        </div>\n                                                                   \n                    </div>\n                                ',t.appendChild(e))}var n=document.querySelector(".dynamic-heading");switch(!0){case this.city.indexOf(this.filter)>-1&&this.filter.length>=2:n.innerHTML="Фоторафии из города "+this.city+":";break;case this.name.indexOf(this.filter)>-1&&this.filter.length>=2:n.innerHTML="Фоторафии автора "+this.name+":";break;case this.filter.length<=2:n.innerHTML="Все фотографии:"}var i=document.querySelectorAll(".js-hide-item"),o=[],r=!0,s=!1,a=void 0;try{for(var c,l=i[Symbol.iterator]();!(r=(c=l.next()).done);r=!0)!function(){var e=c.value;e.addEventListener("click",function(){var t=document.getElementById(e.dataset.id);t.classList.add("gallery-item--hidden"),setTimeout(function(){t.style.display="none"},350),o.push(e.dataset.id),localStorage.setItem("hidden-items",o.toString())})}()}catch(e){s=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(s)throw a}}}}]),e}());n.default=s},{"../utils/blazy":5}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=[{id:"5c408b7c4465e774e0633f0b",src:"1",name:"Molina Slater",city:"Рязань"},{id:"5c408b7cc56e7a6f297b749a",src:"2",name:"Molina Slater",city:"Рязань"},{id:"5c408b7c191eda0f320c96a1",src:"3",name:"Molina Slater",city:"Рязань"},{id:"5c408b7cd82408d7ed808aa4",src:"4",name:"Imelda Jefferson",city:"Рязань"},{id:"5c408b7cfb53d12428d4613f",src:"5",name:"Imelda Jefferson",city:"Рязань"},{id:"5c408b7cbc28fd1ab8ed729e",src:"6",name:"Imelda Jefferson",city:"Москва"},{id:"5c408b7cf92ee8cd9089bbc5",src:"7",name:"Imelda Jefferson",city:"Москва"},{id:"5c408b7c11291ec047504c7d",src:"8",name:"Imelda Jefferson",city:"Москва"},{id:"5c408b7ce2e4c0debe0c55fc",src:"9",name:"Leslie Mcconnell",city:"Москва"},{id:"5c408b7cdfbdaf2915371c94",src:"10",name:"Mandy Kerr",city:"Москва"},{id:"5c408b7c655975333ee962a6",src:"11",name:"Glass Browning",city:"Москва"},{id:"5c408b7c6a048a4b44e3d964",src:"12",name:"Maddox Stein",city:"Москва"},{id:"5c408b7cb9066aa5f7f69089",src:"13",name:"Webster Lambert",city:"Москва"},{id:"5c408b7c903a1194f9fea4b1",src:"14",name:"Loraine Wilkins",city:"Москва"},{id:"5c408b7c17096cf43dc49e52",src:"15",name:"Georgia Graham",city:"Санкт Петербург"},{id:"5c408b7cc4dceec5db0bc735",src:"16",name:"Celina Chavez",city:"Санкт Петербург"},{id:"5c408b7c7f15eb46b8273c70",src:"17",name:"Lila Hammond",city:"Санкт Петербург"},{id:"5c408b7c9a9437c7f42532af",src:"18",name:"Moran Strong",city:"Санкт Петербург"},{id:"5c408b7cf42a83cb3794da5b",src:"19",name:"Moran Strong",city:"Санкт Петербург"},{id:"5c408b7c2ab826f902b0538d",src:"20",name:"Moran Strong",city:"Санкт Петербург"}];n.default=i},{}],3:[function(e,t,n){"use strict";function i(e){var t=[],n=!0,i=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var a=r.value;t.includes(a)||t.push(a)}}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return t}Object.defineProperty(n,"__esModule",{value:!0}),n.default=i},{}],4:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var o=e("./components/unique"),r=i(o),s=e("./components/photos_db"),a=i(s),c=e("./components/gallery"),l=i(c),u=e("./utils/blazy"),d=i(u);window.onload=function(){function e(){document.querySelector(".gallery").innerHTML=""}function t(){var e=document.querySelectorAll(".js-photo-thumbnail"),t=!0,n=!1,i=void 0;try{for(var o,r=e[Symbol.iterator]();!(t=(o=r.next()).done);t=!0)!function(){var e=o.value;e.addEventListener("click",function(){new l.default("",e.id,"","","").showLightbox()})}()}catch(e){n=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw i}}}new d.default({});var n=[],i=!0,o=!1,s=void 0;try{for(var c,u=a.default[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var f=c.value;n.push(f.city);new l.default(f.name,f.src,f.city,f.id,"").createItem()}}catch(e){o=!0,s=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw s}}n=(0,r.default)(n);var m=document.querySelector(".js-cities-select"),y=!0,p=!1,v=void 0;try{for(var h,b=n[Symbol.iterator]();!(y=(h=b.next()).done);y=!0){var g=h.value,w=document.createElement("option");w.setAttribute("value",g),w.innerText=g,m.appendChild(w)}}catch(e){p=!0,v=e}finally{try{!y&&b.return&&b.return()}finally{if(p)throw v}}t();var x=[document.querySelector(".js-cities-select"),document.querySelector(".js-name-input")],S=!0,j=!1,L=void 0;try{for(var _,C=x[Symbol.iterator]();!(S=(_=C.next()).done);S=!0)!function(){var n=_.value;n.addEventListener("input",function(){var i=n.value,o=document.querySelector(".dynamic-heading");if(e(),n.classList.contains("js-name-input")){x[0].value="Выбрать город",i.length<3&&(i="");var r=!0,s=!1,c=void 0;try{for(var u,f=a.default[Symbol.iterator]();!(r=(u=f.next()).done);r=!0){var m=u.value;!x[1].value.indexOf(m.name)>-1&&(o.innerHTML="Совпадений не найдено ¯\\_(ツ)_/¯")}}catch(e){s=!0,c=e}finally{try{!r&&f.return&&f.return()}finally{if(s)throw c}}}else x[1].value="";var y=!0,p=!1,v=void 0;try{for(var h,b=a.default[Symbol.iterator]();!(y=(h=b.next()).done);y=!0){var g=h.value;new l.default(g.name,g.src,g.city,g.id,i).createItem()}}catch(e){p=!0,v=e}finally{try{!y&&b.return&&b.return()}finally{if(p)throw v}}new d.default({}),t()})}()}catch(e){j=!0,L=e}finally{try{!S&&C.return&&C.return()}finally{if(j)throw L}}}},{"./components/gallery":1,"./components/photos_db":2,"./components/unique":3,"./utils/blazy":5}],5:[function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o="function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":i(e)};!function(e,i){"function"==typeof define&&define.amd?define(i):"object"===(void 0===n?"undefined":o(n))?t.exports=i():e.Blazy=i()}(void 0,function(){function e(e){var n=e._util;n.elements=c(e.options),n.count=n.elements.length,n.destroyed&&(n.destroyed=!1,e.options.container&&f(e.options.container,function(e){u(e,"scroll",n.validateT)}),u(window,"resize",n.saveViewportOffsetT),u(window,"resize",n.validateT),u(window,"scroll",n.validateT)),t(e)}function t(e){for(var t=e._util,i=0;i<t.count;i++){var o,r=t.elements[i],a=r;o=e.options;var c=a.getBoundingClientRect();o.container&&h&&(a=a.closest(o.containerClass))?(a=a.getBoundingClientRect(),o=!!n(a,p)&&n(c,{top:a.top-o.offset,right:a.right+o.offset,bottom:a.bottom+o.offset,left:a.left-o.offset})):o=n(c,p),(o||s(r,e.options.successClass))&&(e.load(r),t.elements.splice(i,1),t.count--,i--)}0===t.count&&e.destroy()}function n(e,t){return e.right>=t.left&&e.bottom>=t.top&&e.left<=t.right&&e.top<=t.bottom}function i(e,t,n){if(!s(e,n.successClass)&&(t||n.loadInvisible||0<e.offsetWidth&&0<e.offsetHeight))if(t=e.getAttribute(y)||e.getAttribute(n.src)){t=t.split(n.separator);var i=t[v&&1<t.length?1:0],c=e.getAttribute(n.srcset),l="img"===e.nodeName.toLowerCase(),m=(t=e.parentNode)&&"picture"===t.nodeName.toLowerCase();if(l||void 0===e.src){var p=new Image,h=function t(){n.error&&n.error(e,"invalid"),a(e,n.errorClass),d(p,"error",t),d(p,"load",b)},b=function t(){l?m||r(e,i,c):e.style.backgroundImage='url("'+i+'")',o(e,n),d(p,"load",t),d(p,"error",h)};m&&(p=e,f(t.getElementsByTagName("source"),function(e){var t=n.srcset,i=e.getAttribute(t);i&&(e.setAttribute("srcset",i),e.removeAttribute(t))})),u(p,"error",h),u(p,"load",b),r(p,i,c)}else e.src=i,o(e,n)}else"video"===e.nodeName.toLowerCase()?(f(e.getElementsByTagName("source"),function(e){var t=n.src,i=e.getAttribute(t);i&&(e.setAttribute("src",i),e.removeAttribute(t))}),e.load(),o(e,n)):(n.error&&n.error(e,"missing"),a(e,n.errorClass))}function o(e,t){a(e,t.successClass),t.success&&t.success(e),e.removeAttribute(t.src),e.removeAttribute(t.srcset),f(t.breakpoints,function(t){e.removeAttribute(t.src)})}function r(e,t,n){n&&e.setAttribute("srcset",n),e.src=t}function s(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")}function a(e,t){s(e,t)||(e.className+=" "+t)}function c(e){var t=[];e=e.root.querySelectorAll(e.selector);for(var n=e.length;n--;t.unshift(e[n]));return t}function l(e){p.bottom=(window.innerHeight||document.documentElement.clientHeight)+e,p.right=(window.innerWidth||document.documentElement.clientWidth)+e}function u(e,t,n){e.attachEvent?e.attachEvent&&e.attachEvent("on"+t,n):e.addEventListener(t,n,{capture:!1,passive:!0})}function d(e,t,n){e.detachEvent?e.detachEvent&&e.detachEvent("on"+t,n):e.removeEventListener(t,n,{capture:!1,passive:!0})}function f(e,t){if(e&&t)for(var n=e.length,i=0;i<n&&!1!==t(e[i],i);i++);}function m(e,t,n){var i=0;return function(){var o=+new Date;o-i<t||(i=o,e.apply(n,arguments))}}var y,p,v,h;return function(n){if(!document.querySelectorAll){var o=document.createStyleSheet();document.querySelectorAll=function(e,t,n,i,r){for(r=document.all,t=[],e=e.replace(/\[for\b/gi,"[htmlFor").split(","),n=e.length;n--;){for(o.addRule(e[n],"k:v"),i=r.length;i--;)r[i].currentStyle.k&&t.push(r[i]);o.removeRule(0)}return t}}var r=this,s=r._util={};s.elements=[],s.destroyed=!0,r.options=n||{},r.options.error=r.options.error||!1,r.options.offset=r.options.offset||100,r.options.root=r.options.root||document,r.options.success=r.options.success||!1,r.options.selector=r.options.selector||".b-lazy",r.options.separator=r.options.separator||"|",r.options.containerClass=r.options.container,r.options.container=!!r.options.containerClass&&document.querySelectorAll(r.options.containerClass),r.options.errorClass=r.options.errorClass||"b-error",r.options.breakpoints=r.options.breakpoints||!1,r.options.loadInvisible=r.options.loadInvisible||!1,r.options.successClass=r.options.successClass||"b-loaded",r.options.validateDelay=r.options.validateDelay||25,r.options.saveViewportOffsetDelay=r.options.saveViewportOffsetDelay||50,r.options.srcset=r.options.srcset||"data-srcset",r.options.src=y=r.options.src||"data-src",h=Element.prototype.closest,v=1<window.devicePixelRatio,p={},p.top=0-r.options.offset,p.left=0-r.options.offset,r.revalidate=function(){e(r)},r.load=function(e,t){var n=this.options;void 0===e.length?i(e,t,n):f(e,function(e){i(e,t,n)})},r.destroy=function(){var e=this._util;this.options.container&&f(this.options.container,function(t){d(t,"scroll",e.validateT)}),d(window,"scroll",e.validateT),d(window,"resize",e.validateT),d(window,"resize",e.saveViewportOffsetT),e.count=0,e.elements.length=0,e.destroyed=!0},s.validateT=m(function(){t(r)},r.options.validateDelay,r),s.saveViewportOffsetT=m(function(){l(r.options.offset)},r.options.saveViewportOffsetDelay,r),l(r.options.offset),f(r.options.breakpoints,function(e){if(e.width>=window.screen.width)return y=e.src,!1}),setTimeout(function(){e(r)})}})},{}]},{},[4]);